<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Cloudybear Level Up ğŸ¤</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#ffe4ec,#fff1f6);
  color:#ff5c8a;
  overflow:hidden;
}

/* CLOUD ANIMATION (PURE CSS) */
.clouds{
  position:fixed;
  inset:0;
  overflow:hidden;
  z-index:-1;
}
.cloud{
  position:absolute;
  background:#fff;
  border-radius:50px;
  opacity:.4;
  animation:float linear infinite;
}
.cloud:before,.cloud:after{
  content:"";
  position:absolute;
  background:#fff;
  border-radius:50%;
}
.cloud:before{width:50px;height:50px;left:-20px;top:10px}
.cloud:after{width:60px;height:60px;right:-30px;top:0}

@keyframes float{
  from{transform:translateX(-200px)}
  to{transform:translateX(120vw)}
}

.page{display:none;min-height:100vh;justify-content:center;align-items:center;text-align:center;padding:40px}
.active{display:flex}
.card{
  background:rgba(255,255,255,.9);
  padding:30px;
  border-radius:24px;
  max-width:520px;
  box-shadow:0 12px 30px rgba(255,92,138,.25);
}
button,input{
  margin-top:15px;
  padding:10px 20px;
  border:none;
  border-radius:20px;
  font-size:1em;
}
button{background:#ff7aa2;color:#fff;cursor:pointer}
input{width:80%;text-align:center}
small{display:block;color:#ff8fab;margin-top:8px}

.maze{
  display:grid;
  grid-template-columns:repeat(7,45px);
  gap:5px;
  justify-content:center;
}
.cell{
  width:45px;height:45px;
  border-radius:8px;
  background:#ffe6f0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
}
.wall{background:#ffb6c1}
.trap{background:#ff6b6b;color:#fff}
.exit{background:#b2f2bb}

.confetti{
  position:fixed;top:-10px;
  width:10px;height:10px;
  animation:fall 3s linear forwards;
}
@keyframes fall{
  to{transform:translateY(110vh) rotate(360deg);opacity:0}
}
</style>
</head>

<body>

<div class="clouds">
  <div class="cloud" style="top:10%;width:120px;height:40px;animation-duration:60s"></div>
  <div class="cloud" style="top:30%;width:160px;height:50px;animation-duration:80s"></div>
  <div class="cloud" style="top:55%;width:100px;height:35px;animation-duration:70s"></div>
</div>

<audio autoplay loop>
  <source src="https://dl.sndup.net/dkpn/Beautiful-Paul.mp3">
</audio>
<audio id="tapSound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3"></audio>
<audio id="successSound" src="https://www.soundjay.com/human/sounds/children-yay-01.mp3"></audio>

<!-- PAGE 1 -->
<div class="page active">
  <div class="card">
    <h2 id="greet"></h2>
    <p>aku bisa panggil kamu apa?</p>
    <input id="loverName" placeholder="Tulis nama kamu ğŸ¤">
    <small id="nameWarn"></small>
    <button onclick="saveName()">Masuk</button>
  </div>
</div>

<!-- PAGE 2 -->
<div class="page">
  <div class="card">
    <h2>ğŸ¦¸ Tebak Siapa aku?</h2>
    <p id="heroClue"></p>
    <button onclick="guessHero()">Jawab â˜ğŸ»</button>
    <p id="heroMsg"></p>
    <button id="heroNext" style="display:none" onclick="next()">Next â­ï¸</button>
  </div>
</div>

<!-- PAGE 3 -->
<div class="page">
  <div class="card">
    <h2>ğŸ¤´ Sebuah Legenda</h2>
    <p id="storyTitle"></p>
    <div class="maze" id="maze"></div>
    <div>
      <button onclick="move(0,-1)">â¬†ï¸</button><br>
      <button onclick="move(-1,0)">â¬…ï¸</button>
      <button onclick="move(1,0)">â¡ï¸</button><br>
      <button onclick="move(0,1)">â¬‡ï¸</button>
    </div>
    <p id="mazeMsg"></p>
    <button id="mazeNext" style="display:none" onclick="next()">lanjut yuk ğŸ‘‰ğŸ»</button>
  </div>
</div>

<!-- PAGE 4 -->
<div class="page">
  <div class="card">
    <h2>ğŸ’­ Alkisah Singkat</h2>
    <p>Perjalanan Pangeran tadi penuh rintangan.<br>Sempat salah jalan, kena jebakan, mulai lagi.</p>
    <p>Tapi dia terus jalanâ€¦<br>karena dia tahu, yang ditujunya itu sangat berharga.</p>
    <p>Kadang hidup juga gitu.<br>Kalau tujuannya kamuğŸ‘°ğŸ»â€â™€ï¸, rasanya pengen dicoba terus ğŸ¤</p>
    <button onclick="next()">lanjut lagi ğŸ‘‰ğŸ»</button>
  </div>
</div>

<!-- PAGE 5 -->
<div class="page">
  <div class="card">
    <h2>âœ¨ Buat Kamu</h2>
    <p id="finalMessage"></p>
    <p style="margin-top:20px;font-weight:bold">ğŸŒ· KEEP FIGHTING<br><span style="font-weight:normal">kamu sudah sejauh ini, dan itu nggak kecil ğŸ¤</span></p>
    <button onclick="reset()">ulang lagi</button>
  </div>
</div>

<script>
let p=0,lover="",playCount=0,lastHero=null;
const pages=document.querySelectorAll('.page');
document.getElementById("greet").innerText=`Hi Cloudybear â˜ï¸`;

document.body.addEventListener("click",()=>tapSound.play());

function saveName(){
  const val=loverName.value.trim();
  if(!val){
    nameWarn.innerText="isi dulu yaa ğŸ¤";
    return;
  }
  lover=val;
  nameWarn.innerText="";
  next();
}

/* HERO */
const heroes=[/* sama seperti aslinya */];
function pickHero(){
  let h;
  do{h=heroes[Math.floor(Math.random()*heroes.length)]}
  while(h===lastHero);
  lastHero=h;
  return h;
}
let pickedHero=pickHero(),clueIndex=0;
heroClue.innerText=pickedHero.clues[0];

function guessHero(){
  const input=prompt("Siapa superhero ini?");
  if(!input)return;
  if(input.toLowerCase().includes(pickedHero.name.toLowerCase())){
    heroMsg.innerHTML=`Benar ğŸ¤<br> kamu peka banget,..<br> jadi iri, apa aku harus jadi teka-teki dulu ni.`;
    heroNext.style.display="inline-block";
    successSound.play();confetti();
  }else{
    clueIndex++;
    heroMsg.innerText="salah dongâ€¦ tapi aku yakin kamu pasti bisa ğŸ¤";
    if(clueIndex<pickedHero.clues.length)heroClue.innerText=pickedHero.clues[clueIndex];
  }
}

/* MAZE STORY VARIATION */
const stories=[
  "Bantu Pangeran Singgih temui cintanya yaa ğŸ’–",
  "Ksatria Bayangan menembus gelap demi satu nama ğŸ¤",
  "Penjelajah Hati berjalan jauh demi satu tujuan âœ¨"
];
storyTitle.innerText=stories[playCount%stories.length];

/* FINAL */
function showFinalMessage(){
  const list=playCount>=1?[
    "Aku perhatiinâ€¦ kamu balik lagi ğŸ¤ mungkin bukan karena game.",
    "Kalau ini cerita, aku mau kamu jadi ending-nya.",
    "Ada yang spesial dari kamu, dan kamu bahkan nggak sadar itu."
  ]:[
    "Kamu nggak perlu jadi sempurna untuk jadi berharga. Cara kamu bertahan aja sudah cukup bikin bangga ğŸ¤"
  ];
  finalMessage.innerText=list[Math.floor(Math.random()*list.length)];
}

function next(){
  pages[p].classList.remove("active");
  p++;
  pages[p].classList.add("active");
  if(p===pages.length-1)showFinalMessage();
}

function reset(){
  playCount++;
  location.reload();
}

function confetti(){
  for(let i=0;i<40;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=["#ff7aa2","#ffd1dc","#b2f2bb"][Math.floor(Math.random()*3)];
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
}
</script>

</body>
</html>
